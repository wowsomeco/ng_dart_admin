<template #recursiveList let-list>
  <div *ngFor="let item of list; let odd=odd; let even=even; let first=first;let last=last" wCollapsible>
    <template [ngTemplateOutlet]="listItem"
      [ngTemplateOutletContext]="{'\$implicit':item.data,hasChildren:item.children.length > 0,odd:odd,even:even,first:first,last:last}"></template>
    <div *ngIf="item.children.length != null" #collapsibleItem>
      <template [ngTemplateOutlet]="recursiveList" [ngTemplateOutletContext]="{'\$implicit': item.children}"></template>
    </div>
  </div>
</template>
<template [ngTemplateOutlet]="recursiveList" [ngTemplateOutletContext]="{'\$implicit': list}"></template>